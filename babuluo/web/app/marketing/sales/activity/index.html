<div class="page-content">
  <div class="table-content">
    <div class="table-operbar">
      <div class="table-toolbar text-right">
        <a show-modal id="#shopSwitchModal"> shop select </a>
        <button show-modal id="#add" class="btn btn-default sbold green"><i
            class="fa fa-plus"></i> 新增活动
        </button>

      </div>


      <div class="multi-menu multi-menu-bordered" ng-cloak>

        <div class="table-scrollable">
          <table class="table table-striped table-hover">
            <thead>
            <tr>
              <th style="width: 120px" class="text-center">用户名称</th>
              <th style="width: 120px" class="text-center">用户类型</th>
              <th style="width: 120px" class="text-center">用户参与次数</th>
              <th style="width: 120px" class="text-center">活动限制值</th>
              <th style="width: 120px" class="text-center">活动收益类型</th>
              <th style="width: 120px" class="text-center">活动收益值</th>
              <th style="width: 180px" class="text-center">活动状态</th>
              <th style="width: 180px" class="text-center">定时触发状态</th>
              <th style="width: 180px" class="text-center">起始时间</th>
              <th style="width: 180px" class="text-center">结束时间</th>
              <th style="width: 180px" class="text-center">活动备注</th>
              <th style="width: 180px" class="text-center">充值活动满额重复收益</th>
              <th style="width: 180px" class="text-center">活动说明</th>
              <th style="width: 180px" class="text-center"></th>
            </tr>
            </thead>

            <tbody ng-cloak class="text-center" style="vertical-align: middle">
            <tr ng-repeat=" value in topUpList">
              <td class="text-center" ng-bind="value['ACTIVITY.NAME']"></td>
              <td class="text-center" ng-bind="value['ACTIVITY.ACTIVIVTY_TYPE']"></td>
              <td class="text-center" ng-bind="value['ACTIVITY.LIMIT_TIMES']"></td>
              <td class="text-center" ng-bind="value['ACTIVITY.LIMIT_VALUE']"></td>
              <td class="text-center" ng-bind="value['ACTIVITY.GAINS_TYPE']"></td>
              <td class="text-center" ng-bind="value['ACTIVITY.GAINS_VALUE']"></td>
              <td class="text-center">
                <span ng-if="value['ACTIVITY.ACTIVITY_STATE']==-1">停用</span>
                <span ng-if="value['ACTIVITY.ACTIVITY_STATE']==1">启用</span>
              </td>
              <td class="text-center">
                <span ng-if="value['ACTIVITY.TIME_STATE']==-1">停用</span>
                <span ng-if="value['ACTIVITY.TIME_STATE']==1">启用</span>
              </td>
              <td class="text-center" ng-bind="value['ACTIVITY.START_DATETIME']"></td>
              <td class="text-center" ng-bind="value['ACTIVITY.END_DATETIME']"></td>
              <td class="text-center" ng-bind="value['ACTIVITY.REMARK']"></td>
              <td class="text-center" ng-bind="value['ACTIVITY.REPEATED_GAINS']"></td>
              <td class="text-center" ng-bind="value['ACTIVITY.INTRO']"></td>

              <td class="text-center">
                <a show-modal id="#modify"
                ng-click="modifyActivityClick(value)">修改</a>
                <a ng-if="value['ACTIVITY.ACTIVITY_STATE']==1"
                   ng-click="modifyActivityState(value,-1)">停用</a>
                <a ng-if="value['ACTIVITY.ACTIVITY_STATE']==-1"
                   ng-click="modifyActivityState(value,1)">启用</a>
                <a ng-click="delActivity(value)">删除</a>
              </td>
            </tr>

            </tbody>
          </table>
        </div>
      </div>
    </div>
  </div>


  <!--BEGIN 新增单位-->
  <div class="modal fade text-left" id="add" tabindex="-1" aria-hidden="true"
       style="display: none;">
    <div class="modal-dialog">
      <div class="modal-content">
        <div class="modal-header">
          <button type="button" class="close" data-dismiss="modal"
                  aria-hidden="true"></button>
          <h4 class="modal-title">新增事件</h4>
        </div>
        <div class="modal-body form-body text-right">

          <form class="form-horizontal">
            <div class="form-group row">
              <label class="col-md-3 control-label">
                <span class="required"> </span> 活动名称:
              </label>

              <div class="col-md-8">
                <input type="text" class="form-control"
                       ng-model="add['ACTIVITY.NAME']"
                       ng-init="add['ACTIVITY.NAME']=''"
                       placeholder=""></div>
            </div>
            <div class="form-group row">
              <label class="col-md-3 control-label">
                <span class="required"> </span> 活动类型:
              </label>

              <div class="col-md-8">
                <input type="text" class="form-control"
                       ng-model="add['ACTIVITY.ACTIVIVTY_TYPE']"
                       ng-init="add['ACTIVITY.ACTIVIVTY_TYPE']=''"
                       placeholder=""></div>
            </div>
            <div class="form-group row">
              <label class="col-md-3 control-label">
                <span class="required"> </span> 用户参与次数:
              </label>

              <div class="col-md-8">
                <input type="text" class="form-control"
                       ng-model="add['ACTIVITY.LIMIT_TIMES']"
                       ng-init="add['ACTIVITY.LIMIT_TIMES']=''"
                       placeholder=""></div>
            </div>
            <div class="form-group row">
              <label class="col-md-3 control-label">
                <span class="required"></span> 活动限制值:
              </label>

              <div class="col-md-8">
                <input type="text" class="form-control"
                       ng-model="add['ACTIVITY.LIMIT_VALUE']"
                       ng-init="add['ACTIVITY.LIMIT_VALUE']=''"
                       placeholder=""></div>
            </div>
            <div class="form-group row">
              <label class="col-md-3 control-label">
                <span class="required"></span> 活动收益类型:
              </label>

              <div class="col-md-8">
                <select class="form-control" ng-model="add['ACTIVITY.GAINS_TYPE']" ng-init="add['ACTIVITY.GAINS_TYPE']=''"
                        style=" padding: .3em 1.5em .3em .5em;">
                  <option value="金额">金额</option>
                  <option value="商品">商品</option>
                </select></div>
            </div>
            <div class="form-group row">
              <label class="col-md-3 control-label">
                <span class="required"></span> 活动收益值:
              </label>

              <div class="col-md-8">
                <input type="text" class="form-control"
                       ng-model="add['ACTIVITY.GAINS_VALUE']"
                       ng-model="add['ACTIVITY.GAINS_VALUE'='']"
                       placeholder=""></div>
            </div>
            <div class="form-group row">
              <label class="col-md-3 control-label">
                <span class="required"></span> 活动状态:
              </label>

              <div class="col-md-8">
                <select class="form-control" ng-model="add['ACTIVITY.ACTIVITY_STATE']" ng-model="add['ACTIVITY.ACTIVITY_STATE'='']"
                        style=" padding: .3em 1.5em .3em .5em;">
                  <option value="1">启用</option>
                  <option value="-1">禁用</option>
                </select>
              </div>
            </div>
            <div class="form-group row">
              <label class="col-md-3 control-label">
                <span class="required"></span> 定时触发状态:
              </label>
              <div class="col-md-8">
                <select class="form-control" ng-model="add['ACTIVITY.TIME_STATE']" ng-model="add['ACTIVITY.TIME_STATE'='']"
                        style=" padding: .3em 1.5em .3em .5em;">
                  <option value="1">启用</option>
                  <option value="-1">禁用</option>
                </select>
              </div>
            </div>

            <div class="form-group row" ng-show="add['ACTIVITY.TIME_STATE']==1">
              <label class="col-md-3 control-label">
                <span class="required"></span> 起始时间:
              </label>
              <div class="col-md-8">
                  <input class="start_hour col-md-12"  type="text" class="form-control ng-pristine ng-untouched ng-valid ng-empty" placeholder="开始时间" name="from" ng-model="add['ACTIVITY.START_DATETIME']" ng-init="add['ACTIVITY.START_DATETIME']=''" data-date-format="yyyy/mm/dd hh:ii" style="margin-right: 10px">
              </div>
            </div>
            <div class="form-group row" ng-show="add['ACTIVITY.TIME_STATE']==1">
              <label class="col-md-3 control-label">
                <span class="required"></span> 结束时间:
              </label>
              <div class="col-md-8">
                <input class="end_hour col-md-12" type="text" class="form-control ng-pristine ng-untouched ng-valid ng-empty" placeholder="結束时间" name="from" ng-model="add['ACTIVITY.END_DATETIME']" ng-init="add['ACTIVITY.END_DATETIME']=''" data-date-format="yyyy/mm/dd hh:ii" style="margin-right: 10px">
              </div>
            </div>
            <div class="form-group row">
              <label class="col-md-3 control-label">
                <span class="required"></span> 活动备注:
              </label>
              <div class="col-md-8">
                <input type="text" class="form-control"
                       ng-model="add['ACTIVITY.REMARK']"
                       ng-init="add['ACTIVITY.REMARK']=''"
                       placeholder="">
              </div>
            </div>
            <div class="form-group row">
              <label class="col-md-3 control-label">
                <span class="required"></span> 充值活动满额重复收益:
              </label>
              <div class="col-md-8">
                <input type="text" class="form-control"
                       ng-model="add['ACTIVITY.REPEATED_GAINS']"
                       ng-init="add['ACTIVITY.REPEATED_GAINS']=''"
                       placeholder="">
              </div>
            </div>
            <div class="form-group row">
              <label class="col-md-3 control-label">
                <span class="required"></span> 活动说明:
              </label>
              <div class="col-md-8">
                <input type="text" class="form-control "
                       ng-model="add['ACTIVITY.INTRO']"
                       ng-init="add['ACTIVITY.INTRO']=''"
                       placeholder="">
              </div>
            </div>
          </form>
        </div>
        <div class="modal-footer">
          <button type="button" ng-click="addActivity()" class="btn green">确定
          </button>
          <button type="button" class="btn green  btn-outline" data-dismiss="modal">取消
          </button>
        </div>
      </div>
      <!-- /.modal-content -->
    </div>
    <!-- /.modal-dialog -->
  </div>
  <!--END 新增单位-->

  <!--BEGIN 修改单位-->
  <div class="modal fade text-left" id="modify" tabindex="-1"
       aria-hidden="true" style="display: none;z-index: 1049">
    <div class="modal-dialog">
      <div class="modal-content">
        <div class="modal-header">
          <button type="button" class="close" data-dismiss="modal"
                  aria-hidden="true"></button>
          <h4 class="modal-title">修改事件</h4>
        </div>
        <div class="modal-body form-body text-right">
          <form class="form-horizontal">
            <div class="form-group row">
              <label class="col-md-3 control-label">
                <span class="required"> </span> 活动名称:
              </label>

              <div class="col-md-8">
                <input type="text" class="form-control"
                       ng-model="modify['ACTIVITY.NAME']"
                       placeholder=""></div>
            </div>
            <div class="form-group row">
              <label class="col-md-3 control-label">
                <span class="required"> </span> 活动类型:
              </label>

              <div class="col-md-8">
                <input type="text" class="form-control"
                       ng-model="modify['ACTIVITY.ACTIVIVTY_TYPE']"
                       placeholder=""></div>
            </div>
            <div class="form-group row">
              <label class="col-md-3 control-label">
                <span class="required"> </span> 用户参与次数:
              </label>

              <div class="col-md-8">
                <input type="text" class="form-control"
                       ng-model="modify['ACTIVITY.LIMIT_TIMES']"
                       placeholder=""></div>
            </div>
            <div class="form-group row">
              <label class="col-md-3 control-label">
                <span class="required"></span> 活动限制值:
              </label>

              <div class="col-md-8">
                <input type="text" class="form-control"
                       ng-model="modify['ACTIVITY.LIMIT_VALUE']"
                       placeholder=""></div>
            </div>
            <div class="form-group row">
              <label class="col-md-3 control-label">
                <span class="required"></span> 活动收益类型:
              </label>

              <div class="col-md-8">
                <select class="form-control" ng-model="modify['ACTIVITY.GAINS_TYPE']" style=" padding: .3em 1.5em .3em .5em;">
                  <option value="金额">金额</option>
                  <option value="商品">商品</option>
                </select></div>
            </div>
            <div class="form-group row">
              <label class="col-md-3 control-label">
                <span class="required"></span> 活动收益值:
              </label>

              <div class="col-md-8">
                <input type="text" class="form-control"
                       ng-model="modify['ACTIVITY.GAINS_VALUE']"
                       placeholder=""></div>
            </div>
            <div class="form-group row">
              <label class="col-md-3 control-label">
                <span class="required"></span> 活动状态:
              </label>

              <div class="col-md-8">
                <select class="form-control" ng-model="modify['ACTIVITY.ACTIVITY_STATE']" style=" padding: .3em 1.5em .3em .5em;">
                    <option value="1">启用</option>
                    <option value="-1">禁用</option>
                </select>
              </div>
            </div>
            <div class="form-group row">
              <label class="col-md-3 control-label">
                <span class="required"></span> 定时触发状态:
              </label>
              <div class="col-md-8">
                <select class="form-control" ng-model="modify['ACTIVITY.TIME_STATE']" style=" padding: .3em 1.5em .3em .5em;">
                  <option value="1">启用</option>
                  <option value="-1">禁用</option>
                </select>
              </div>
            </div>

            <div class="form-group row" ng-if="modify['ACTIVITY.TIME_STATE']==1">
              <label class="col-md-3 control-label">
                <span class="required"></span> 起始时间:
              </label>
              <div class="col-md-8">
                <div class="col-md-8 "
                        data-date="10/11/2012"
                        language="zh-CN"
                        data-date-format="yyyy-mm-dd">
                  <input class="start_hour" type="text" class="form-control ng-pristine ng-untouched ng-valid ng-empty" placeholder="开始时间" name="from" ng-model="modify['ACTIVITY.START_DATETIME']" data-date-format="yyyy/mm/dd hh:ii" style="margin-right: 10px">
                </div>
              </div>
            </div>
            <div class="form-group row" ng-show="modify['ACTIVITY.TIME_STATE']==1">
              <label class="col-md-3 control-label">
                <span class="required"></span> 结束时间:
              </label>
              <div class="col-md-8">
                <input class="end_hour" type="text" class="form-control ng-pristine ng-untouched ng-valid ng-empty" placeholder="結束时间" name="from" ng-model="modify['ACTIVITY.END_DATETIME']" data-date-format="yyyy/mm/dd hh:ii" style="margin-right: 10px">
              </div>
            </div>
            <div class="form-group row">
              <label class="col-md-3 control-label">
                <span class="required"></span> 活动备注:
              </label>
              <div class="col-md-8">
                <input type="text" class="form-control"
                       ng-model="modify['ACTIVITY.REMARK']"
                       placeholder="">
              </div>
              </div>
            <div class="form-group row">
              <label class="col-md-3 control-label">
                <span class="required"></span> 充值活动满额重复收益:
              </label>
              <div class="col-md-8">
                <input type="text" class="form-control"
                       ng-model="modify['ACTIVITY.REPEATED_GAINS']"
                       placeholder="">
              </div>
              </div>
            <div class="form-group row">
              <label class="col-md-3 control-label">
                <span class="required"></span> 活动说明:
              </label>
              <div class="col-md-8">
                <input type="text" class="form-control"
                       ng-model="modify['ACTIVITY.INTRO']"
                       placeholder="">
              </div>
              </div>
          </form>
        </div>
        <div class="modal-footer">
          <button type="button" class="btn green" ng-click="modifyActivity()">确定
          </button>
          <button type="button" class="btn green  btn-outline" data-dismiss="modal">取消
          </button>
        </div>
      </div>
      <!-- /.modal-content -->
    </div>
    <!-- /.modal-dialog -->
  </div>
</div>
<!-- END CONTENT -->
<shop-switch-modal  callback="shopSwitch(data)"></shop-switch-modal>

